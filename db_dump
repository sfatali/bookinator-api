--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.2
-- Dumped by pg_dump version 10.4

-- Started on 2018-08-01 23:48:19

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2289 (class 1262 OID 108724)
-- Name: bookinator; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE bookinator WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'English_United States.1252' LC_CTYPE = 'English_United States.1252';


ALTER DATABASE bookinator OWNER TO postgres;

\connect bookinator

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12387)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2291 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 197 (class 1259 OID 117067)
-- Name: book_holding_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.book_holding_types (
    id integer NOT NULL,
    name character varying(50)
);


ALTER TABLE public.book_holding_types OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 117065)
-- Name: book_holding_types_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.book_holding_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.book_holding_types_id_seq OWNER TO postgres;

--
-- TOC entry 2292 (class 0 OID 0)
-- Dependencies: 196
-- Name: book_holding_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.book_holding_types_id_seq OWNED BY public.book_holding_types.id;


--
-- TOC entry 195 (class 1259 OID 117059)
-- Name: book_status_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.book_status_types (
    id integer NOT NULL,
    name character varying(50)
);


ALTER TABLE public.book_status_types OWNER TO postgres;

--
-- TOC entry 194 (class 1259 OID 117057)
-- Name: book_status_types_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.book_status_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.book_status_types_id_seq OWNER TO postgres;

--
-- TOC entry 2293 (class 0 OID 0)
-- Dependencies: 194
-- Name: book_status_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.book_status_types_id_seq OWNED BY public.book_status_types.id;


--
-- TOC entry 199 (class 1259 OID 117075)
-- Name: books; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.books (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    owner_id integer NOT NULL,
    holding_type_id integer NOT NULL,
    status_id integer NOT NULL,
    name character varying(350),
    authors text,
    year_published integer,
    field_id integer,
    topics text,
    description text DEFAULT ''::text
);


ALTER TABLE public.books OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 117073)
-- Name: books_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.books_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.books_id_seq OWNER TO postgres;

--
-- TOC entry 2294 (class 0 OID 0)
-- Dependencies: 198
-- Name: books_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.books_id_seq OWNED BY public.books.id;


--
-- TOC entry 201 (class 1259 OID 117108)
-- Name: books_wish_list; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.books_wish_list (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    user_id integer NOT NULL,
    book_id integer NOT NULL
);


ALTER TABLE public.books_wish_list OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 117106)
-- Name: books_wish_list_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.books_wish_list_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.books_wish_list_id_seq OWNER TO postgres;

--
-- TOC entry 2295 (class 0 OID 0)
-- Dependencies: 200
-- Name: books_wish_list_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.books_wish_list_id_seq OWNED BY public.books_wish_list.id;


--
-- TOC entry 189 (class 1259 OID 117021)
-- Name: cities; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cities (
    id integer NOT NULL,
    country_id integer,
    name character varying(50)
);


ALTER TABLE public.cities OWNER TO postgres;

--
-- TOC entry 188 (class 1259 OID 117019)
-- Name: cities_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cities_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.cities_id_seq OWNER TO postgres;

--
-- TOC entry 2296 (class 0 OID 0)
-- Dependencies: 188
-- Name: cities_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cities_id_seq OWNED BY public.cities.id;


--
-- TOC entry 187 (class 1259 OID 117013)
-- Name: countries; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.countries (
    id integer NOT NULL,
    name character varying(50)
);


ALTER TABLE public.countries OWNER TO postgres;

--
-- TOC entry 186 (class 1259 OID 117011)
-- Name: countries_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.countries_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.countries_id_seq OWNER TO postgres;

--
-- TOC entry 2297 (class 0 OID 0)
-- Dependencies: 186
-- Name: countries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.countries_id_seq OWNED BY public.countries.id;


--
-- TOC entry 191 (class 1259 OID 117034)
-- Name: fields; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.fields (
    id integer NOT NULL,
    name character varying(50)
);


ALTER TABLE public.fields OWNER TO postgres;

--
-- TOC entry 190 (class 1259 OID 117032)
-- Name: fields_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.fields_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.fields_id_seq OWNER TO postgres;

--
-- TOC entry 2298 (class 0 OID 0)
-- Dependencies: 190
-- Name: fields_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.fields_id_seq OWNED BY public.fields.id;


--
-- TOC entry 203 (class 1259 OID 117127)
-- Name: holding_request_status_types; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.holding_request_status_types (
    id integer NOT NULL,
    name character varying(50)
);


ALTER TABLE public.holding_request_status_types OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 117125)
-- Name: holding_request_status_types_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.holding_request_status_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.holding_request_status_types_id_seq OWNER TO postgres;

--
-- TOC entry 2299 (class 0 OID 0)
-- Dependencies: 202
-- Name: holding_request_status_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.holding_request_status_types_id_seq OWNED BY public.holding_request_status_types.id;


--
-- TOC entry 205 (class 1259 OID 117135)
-- Name: holding_requests; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.holding_requests (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    date_updated timestamp without time zone DEFAULT now(),
    sender_id integer,
    receiver_id integer,
    book_id integer NOT NULL,
    parent_book_id integer,
    status_id integer,
    request_message character varying(500)
);


ALTER TABLE public.holding_requests OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 117133)
-- Name: holding_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.holding_requests_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.holding_requests_id_seq OWNER TO postgres;

--
-- TOC entry 2300 (class 0 OID 0)
-- Dependencies: 204
-- Name: holding_requests_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.holding_requests_id_seq OWNED BY public.holding_requests.id;


--
-- TOC entry 209 (class 1259 OID 117192)
-- Name: messages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.messages (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    holding_request_id integer,
    sender_id integer NOT NULL,
    receiver_id integer NOT NULL,
    message_text text
);


ALTER TABLE public.messages OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 117190)
-- Name: messages_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.messages_id_seq OWNER TO postgres;

--
-- TOC entry 2301 (class 0 OID 0)
-- Dependencies: 208
-- Name: messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.messages_id_seq OWNED BY public.messages.id;


--
-- TOC entry 207 (class 1259 OID 117168)
-- Name: reviews; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reviews (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    holding_request_id integer,
    reviewer_id integer,
    reviewee_id integer,
    review_text character varying(350),
    score integer
);


ALTER TABLE public.reviews OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 117166)
-- Name: reviews_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.reviews_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.reviews_id_seq OWNER TO postgres;

--
-- TOC entry 2302 (class 0 OID 0)
-- Dependencies: 206
-- Name: reviews_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.reviews_id_seq OWNED BY public.reviews.id;


--
-- TOC entry 185 (class 1259 OID 117001)
-- Name: schema_version; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.schema_version (
    installed_rank integer NOT NULL,
    version character varying(50),
    description character varying(200) NOT NULL,
    type character varying(20) NOT NULL,
    script character varying(1000) NOT NULL,
    checksum integer,
    installed_by character varying(100) NOT NULL,
    installed_on timestamp without time zone DEFAULT now() NOT NULL,
    execution_time integer NOT NULL,
    success boolean NOT NULL
);


ALTER TABLE public.schema_version OWNER TO postgres;

--
-- TOC entry 193 (class 1259 OID 117042)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    date_created timestamp without time zone DEFAULT now(),
    username character varying(100),
    password character varying(256),
    name character varying(50) NOT NULL,
    surname character varying(50) NOT NULL,
    city_id integer NOT NULL,
    phone character varying(20),
    email character varying(250)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 192 (class 1259 OID 117040)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO postgres;

--
-- TOC entry 2303 (class 0 OID 0)
-- Dependencies: 192
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- TOC entry 2083 (class 2604 OID 117070)
-- Name: book_holding_types id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_holding_types ALTER COLUMN id SET DEFAULT nextval('public.book_holding_types_id_seq'::regclass);


--
-- TOC entry 2082 (class 2604 OID 117062)
-- Name: book_status_types id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_status_types ALTER COLUMN id SET DEFAULT nextval('public.book_status_types_id_seq'::regclass);


--
-- TOC entry 2084 (class 2604 OID 117078)
-- Name: books id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books ALTER COLUMN id SET DEFAULT nextval('public.books_id_seq'::regclass);


--
-- TOC entry 2087 (class 2604 OID 117111)
-- Name: books_wish_list id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books_wish_list ALTER COLUMN id SET DEFAULT nextval('public.books_wish_list_id_seq'::regclass);


--
-- TOC entry 2078 (class 2604 OID 117024)
-- Name: cities id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cities ALTER COLUMN id SET DEFAULT nextval('public.cities_id_seq'::regclass);


--
-- TOC entry 2077 (class 2604 OID 117016)
-- Name: countries id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.countries ALTER COLUMN id SET DEFAULT nextval('public.countries_id_seq'::regclass);


--
-- TOC entry 2079 (class 2604 OID 117037)
-- Name: fields id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fields ALTER COLUMN id SET DEFAULT nextval('public.fields_id_seq'::regclass);


--
-- TOC entry 2089 (class 2604 OID 117130)
-- Name: holding_request_status_types id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_request_status_types ALTER COLUMN id SET DEFAULT nextval('public.holding_request_status_types_id_seq'::regclass);


--
-- TOC entry 2090 (class 2604 OID 117138)
-- Name: holding_requests id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests ALTER COLUMN id SET DEFAULT nextval('public.holding_requests_id_seq'::regclass);


--
-- TOC entry 2095 (class 2604 OID 117195)
-- Name: messages id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages ALTER COLUMN id SET DEFAULT nextval('public.messages_id_seq'::regclass);


--
-- TOC entry 2093 (class 2604 OID 117171)
-- Name: reviews id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews ALTER COLUMN id SET DEFAULT nextval('public.reviews_id_seq'::regclass);


--
-- TOC entry 2080 (class 2604 OID 117045)
-- Name: users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- TOC entry 2271 (class 0 OID 117067)
-- Dependencies: 197
-- Data for Name: book_holding_types; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.book_holding_types (id, name) VALUES (0, 'Unknown');
INSERT INTO public.book_holding_types (id, name) VALUES (1, 'Give away');
INSERT INTO public.book_holding_types (id, name) VALUES (2, 'Read and return');


--
-- TOC entry 2269 (class 0 OID 117059)
-- Dependencies: 195
-- Data for Name: book_status_types; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.book_status_types (id, name) VALUES (0, 'Unknown');
INSERT INTO public.book_status_types (id, name) VALUES (1, 'Available');
INSERT INTO public.book_status_types (id, name) VALUES (2, 'Taken to read');
INSERT INTO public.book_status_types (id, name) VALUES (3, 'Given away');
INSERT INTO public.book_status_types (id, name) VALUES (4, 'Temporarily unavailable');
INSERT INTO public.book_status_types (id, name) VALUES (5, 'In search');


--
-- TOC entry 2273 (class 0 OID 117075)
-- Dependencies: 199
-- Data for Name: books; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (1, '2018-08-01 23:15:37.594261', 4, 2, 2, 'The lord of the rings. Book 1', 'J.R.R. Tolkien;', NULL, 1, 'fantasy', NULL);
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (2, '2018-08-01 23:15:37.594261', 4, 2, 1, 'The lord of the rings. Book 2', 'J.R.R. Tolkien;', NULL, 1, 'fantasy', NULL);
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (3, '2018-08-01 23:15:37.594261', 4, 2, 4, 'The lord of the rings. Book 3', 'J.R.R. Tolkien;', NULL, 1, 'fantasy', NULL);
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (4, '2018-08-01 23:15:37.594261', 2, 2, 5, 'Python for beginners', 'Any', NULL, 5, 'python;programming;urgent', 'I need a book to gain solid knowledge in Python');
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (5, '2018-08-01 23:15:37.594261', 3, 2, 1, 'Learning Python', 'Mark Lutz', 2011, 5, 'Python', 'Best book to learn Python. I read it, it was awesome.');
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (6, '2018-08-01 23:15:37.594261', 3, 1, 1, 'Pancakes cookbook', NULL, NULL, 5, 'Cooking;Pancakes', 'I used this book to learn how to make pancakes. Results are awesome.');
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (7, '2018-08-01 23:15:37.594261', 1, 1, 5, 'Pancakes recipes', NULL, NULL, 5, 'Pancakes;Recipes', 'I need a book with different pncakes recipes.');
INSERT INTO public.books (id, date_created, owner_id, holding_type_id, status_id, name, authors, year_published, field_id, topics, description) VALUES (8, '2018-08-01 23:15:37.594261', 2, 2, 4, 'A brief history of time', 'Stephen Hawking', 1988, 3, 'Popular science;Cosmology;Universe;Physics', 'Amazing book, guys!');


--
-- TOC entry 2275 (class 0 OID 117108)
-- Dependencies: 201
-- Data for Name: books_wish_list; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.books_wish_list (id, date_created, user_id, book_id) VALUES (1, '2018-08-01 23:15:37.594261', 3, 1);
INSERT INTO public.books_wish_list (id, date_created, user_id, book_id) VALUES (2, '2018-08-01 23:15:37.594261', 3, 2);
INSERT INTO public.books_wish_list (id, date_created, user_id, book_id) VALUES (3, '2018-08-01 23:15:37.594261', 3, 8);


--
-- TOC entry 2263 (class 0 OID 117021)
-- Dependencies: 189
-- Data for Name: cities; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.cities (id, country_id, name) VALUES (1, 1, 'Oulu');
INSERT INTO public.cities (id, country_id, name) VALUES (2, 1, 'Helsinki');
INSERT INTO public.cities (id, country_id, name) VALUES (3, 1, 'Tampere');
INSERT INTO public.cities (id, country_id, name) VALUES (4, 1, 'Turku');
INSERT INTO public.cities (id, country_id, name) VALUES (5, 1, 'Rovaniemi');
INSERT INTO public.cities (id, country_id, name) VALUES (6, 2, 'Stockholm');
INSERT INTO public.cities (id, country_id, name) VALUES (7, 2, 'Gothenburg');
INSERT INTO public.cities (id, country_id, name) VALUES (8, 2, 'Malmo');
INSERT INTO public.cities (id, country_id, name) VALUES (9, 3, 'Oslo');
INSERT INTO public.cities (id, country_id, name) VALUES (10, 4, 'Berlin');
INSERT INTO public.cities (id, country_id, name) VALUES (11, 4, 'Munich');
INSERT INTO public.cities (id, country_id, name) VALUES (12, 4, 'Frankfurt');
INSERT INTO public.cities (id, country_id, name) VALUES (13, 5, 'London');
INSERT INTO public.cities (id, country_id, name) VALUES (14, 5, 'Manchester');
INSERT INTO public.cities (id, country_id, name) VALUES (15, 5, 'Oxford');
INSERT INTO public.cities (id, country_id, name) VALUES (16, 5, 'Edinburgh');
INSERT INTO public.cities (id, country_id, name) VALUES (17, 6, 'Madrid');
INSERT INTO public.cities (id, country_id, name) VALUES (18, 6, 'Barcelona');
INSERT INTO public.cities (id, country_id, name) VALUES (19, 6, 'Seville');
INSERT INTO public.cities (id, country_id, name) VALUES (20, 7, 'Paris');
INSERT INTO public.cities (id, country_id, name) VALUES (21, 7, 'Toulouse');
INSERT INTO public.cities (id, country_id, name) VALUES (22, 8, 'Rome');
INSERT INTO public.cities (id, country_id, name) VALUES (23, 8, 'Milan');
INSERT INTO public.cities (id, country_id, name) VALUES (24, 9, 'Warsaw');
INSERT INTO public.cities (id, country_id, name) VALUES (25, 9, 'Krakow');
INSERT INTO public.cities (id, country_id, name) VALUES (26, 9, 'Wroclaw');
INSERT INTO public.cities (id, country_id, name) VALUES (27, 10, 'Baku');
INSERT INTO public.cities (id, country_id, name) VALUES (28, 10, 'Sumqait');
INSERT INTO public.cities (id, country_id, name) VALUES (29, 10, 'Quba');
INSERT INTO public.cities (id, country_id, name) VALUES (30, 10, 'Shaki');
INSERT INTO public.cities (id, country_id, name) VALUES (31, 10, 'Hachmaz');
INSERT INTO public.cities (id, country_id, name) VALUES (32, 10, 'Gandja');


--
-- TOC entry 2261 (class 0 OID 117013)
-- Dependencies: 187
-- Data for Name: countries; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.countries (id, name) VALUES (1, 'Finland');
INSERT INTO public.countries (id, name) VALUES (2, 'Sweden');
INSERT INTO public.countries (id, name) VALUES (3, 'Norway');
INSERT INTO public.countries (id, name) VALUES (4, 'Germany');
INSERT INTO public.countries (id, name) VALUES (5, 'UK');
INSERT INTO public.countries (id, name) VALUES (6, 'Spain');
INSERT INTO public.countries (id, name) VALUES (7, 'France');
INSERT INTO public.countries (id, name) VALUES (8, 'Italy');
INSERT INTO public.countries (id, name) VALUES (9, 'Poland');
INSERT INTO public.countries (id, name) VALUES (10, 'Azerbaijan');


--
-- TOC entry 2265 (class 0 OID 117034)
-- Dependencies: 191
-- Data for Name: fields; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.fields (id, name) VALUES (0, 'Unknown');
INSERT INTO public.fields (id, name) VALUES (1, 'Fiction literature');
INSERT INTO public.fields (id, name) VALUES (2, 'Historical literature');
INSERT INTO public.fields (id, name) VALUES (3, 'Scientific literature');
INSERT INTO public.fields (id, name) VALUES (4, 'School books');
INSERT INTO public.fields (id, name) VALUES (5, 'Learning and development');


--
-- TOC entry 2277 (class 0 OID 117127)
-- Dependencies: 203
-- Data for Name: holding_request_status_types; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.holding_request_status_types (id, name) VALUES (1, 'Pending');
INSERT INTO public.holding_request_status_types (id, name) VALUES (2, 'Approved');
INSERT INTO public.holding_request_status_types (id, name) VALUES (3, 'Declined');
INSERT INTO public.holding_request_status_types (id, name) VALUES (4, 'Archived');


--
-- TOC entry 2279 (class 0 OID 117135)
-- Dependencies: 205
-- Data for Name: holding_requests; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.holding_requests (id, date_created, date_updated, sender_id, receiver_id, book_id, parent_book_id, status_id, request_message) VALUES (1, '2018-08-01 23:15:37.594261', '2018-08-01 23:15:37.594261', 3, 1, 6, 7, 1, 'I think I have a book you were looking for.');
INSERT INTO public.holding_requests (id, date_created, date_updated, sender_id, receiver_id, book_id, parent_book_id, status_id, request_message) VALUES (2, '2018-08-01 23:15:37.594261', '2018-08-01 23:15:37.594261', 3, 4, 1, NULL, 4, NULL);
INSERT INTO public.holding_requests (id, date_created, date_updated, sender_id, receiver_id, book_id, parent_book_id, status_id, request_message) VALUES (3, '2018-08-01 23:15:37.594261', '2018-08-01 23:15:37.594261', 3, 4, 2, NULL, 1, 'Could you give me the 2nd book now?');
INSERT INTO public.holding_requests (id, date_created, date_updated, sender_id, receiver_id, book_id, parent_book_id, status_id, request_message) VALUES (4, '2018-08-01 23:15:37.594261', '2018-08-01 23:15:37.594261', 3, 2, 5, 4, 2, 'Check out this book!');
INSERT INTO public.holding_requests (id, date_created, date_updated, sender_id, receiver_id, book_id, parent_book_id, status_id, request_message) VALUES (5, '2018-08-01 23:15:37.594261', '2018-08-01 23:15:37.594261', 3, 2, 8, NULL, 3, 'Give me the book!!!');


--
-- TOC entry 2283 (class 0 OID 117192)
-- Dependencies: 209
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (1, '2018-08-01 23:15:37.594261', 2, 4, 3, 'Okay. Would you like the book by post or to take in person?');
INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (2, '2018-08-01 23:15:37.594261', 2, 3, 4, 'Would be easier for me to take in person. How about meeting this Friday around 6pm?');
INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (3, '2018-08-01 23:15:37.594261', 2, 4, 3, 'Okay, works for me.');
INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (4, '2018-08-01 23:15:37.594261', 2, 3, 4, 'I finished the book and would like to return it soon. Could we meet?');
INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (5, '2018-08-01 23:15:37.594261', 2, 4, 3, 'Sure, lets meet tomorrow at 5pm');
INSERT INTO public.messages (id, date_created, holding_request_id, sender_id, receiver_id, message_text) VALUES (6, '2018-08-01 23:15:37.594261', 2, 3, 4, 'Thanks, see you.');


--
-- TOC entry 2281 (class 0 OID 117168)
-- Dependencies: 207
-- Data for Name: reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.reviews (id, date_created, holding_request_id, reviewer_id, reviewee_id, review_text, score) VALUES (1, '2018-08-01 23:15:37.594261', 2, 3, 4, 'Sabina replied quickly and communication was smooth.', 5);
INSERT INTO public.reviews (id, date_created, holding_request_id, reviewer_id, reviewee_id, review_text, score) VALUES (2, '2018-08-01 23:15:37.594261', 2, 4, 3, 'Daniel returned the book in a perfect condition.', 5);


--
-- TOC entry 2259 (class 0 OID 117001)
-- Dependencies: 185
-- Data for Name: schema_version; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.schema_version (installed_rank, version, description, type, script, checksum, installed_by, installed_on, execution_time, success) VALUES (1, '1', 'init schema', 'SQL', 'V1__init_schema.sql', 513041387, 'postgres', '2018-08-01 23:15:36.912985', 537, true);
INSERT INTO public.schema_version (installed_rank, version, description, type, script, checksum, installed_by, installed_on, execution_time, success) VALUES (2, '2', 'data', 'SQL', 'V2__data.sql', -1945319781, 'postgres', '2018-08-01 23:15:37.594261', 67, true);


--
-- TOC entry 2267 (class 0 OID 117042)
-- Dependencies: 193
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users (id, date_created, username, password, name, surname, city_id, phone, email) VALUES (1, '2018-08-01 23:15:37.594261', NULL, NULL, 'Chouaib', 'Hamek', 1, NULL, 'somemail@gmail.com');
INSERT INTO public.users (id, date_created, username, password, name, surname, city_id, phone, email) VALUES (2, '2018-08-01 23:15:37.594261', 'alfitra', '$2a$10$lYT0mOImwvCwtUyQwef2RO.JFjlqkzg/YgI5qbrz0VP6virgwzCjy', 'Alfitra', 'Rahman', 1, '+358460000001', 'somemail2@gmail.com');
INSERT INTO public.users (id, date_created, username, password, name, surname, city_id, phone, email) VALUES (3, '2018-08-01 23:15:37.594261', 'daniel', '$2a$10$lYT0mOImwvCwtUyQwef2RO.JFjlqkzg/YgI5qbrz0VP6virgwzCjy', 'Daniel', 'Toniuc', 1, '+358460000002', 'somemail3@gmail.com');
INSERT INTO public.users (id, date_created, username, password, name, surname, city_id, phone, email) VALUES (4, '2018-08-01 23:15:37.594261', 'sabina', '$2a$10$lYT0mOImwvCwtUyQwef2RO.JFjlqkzg/YgI5qbrz0VP6virgwzCjy', 'Sabina', 'Fataliyeva', 1, '+358460000003', 'somemail4@gmail.com');


--
-- TOC entry 2304 (class 0 OID 0)
-- Dependencies: 196
-- Name: book_holding_types_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.book_holding_types_id_seq', 1, false);


--
-- TOC entry 2305 (class 0 OID 0)
-- Dependencies: 194
-- Name: book_status_types_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.book_status_types_id_seq', 1, false);


--
-- TOC entry 2306 (class 0 OID 0)
-- Dependencies: 198
-- Name: books_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.books_id_seq', 14, true);


--
-- TOC entry 2307 (class 0 OID 0)
-- Dependencies: 200
-- Name: books_wish_list_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.books_wish_list_id_seq', 5, true);


--
-- TOC entry 2308 (class 0 OID 0)
-- Dependencies: 188
-- Name: cities_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cities_id_seq', 1, false);


--
-- TOC entry 2309 (class 0 OID 0)
-- Dependencies: 186
-- Name: countries_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.countries_id_seq', 1, false);


--
-- TOC entry 2310 (class 0 OID 0)
-- Dependencies: 190
-- Name: fields_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.fields_id_seq', 1, false);


--
-- TOC entry 2311 (class 0 OID 0)
-- Dependencies: 202
-- Name: holding_request_status_types_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.holding_request_status_types_id_seq', 1, false);


--
-- TOC entry 2312 (class 0 OID 0)
-- Dependencies: 204
-- Name: holding_requests_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.holding_requests_id_seq', 9, true);


--
-- TOC entry 2313 (class 0 OID 0)
-- Dependencies: 208
-- Name: messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.messages_id_seq', 8, true);


--
-- TOC entry 2314 (class 0 OID 0)
-- Dependencies: 206
-- Name: reviews_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reviews_id_seq', 6, true);


--
-- TOC entry 2315 (class 0 OID 0)
-- Dependencies: 192
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 12, true);


--
-- TOC entry 2111 (class 2606 OID 117072)
-- Name: book_holding_types book_holding_types_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_holding_types
    ADD CONSTRAINT book_holding_types_id_key UNIQUE (id);


--
-- TOC entry 2109 (class 2606 OID 117064)
-- Name: book_status_types book_status_types_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.book_status_types
    ADD CONSTRAINT book_status_types_id_key UNIQUE (id);


--
-- TOC entry 2113 (class 2606 OID 117085)
-- Name: books books_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books
    ADD CONSTRAINT books_id_key UNIQUE (id);


--
-- TOC entry 2115 (class 2606 OID 117114)
-- Name: books_wish_list books_wish_list_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books_wish_list
    ADD CONSTRAINT books_wish_list_id_key UNIQUE (id);


--
-- TOC entry 2103 (class 2606 OID 117026)
-- Name: cities cities_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cities
    ADD CONSTRAINT cities_id_key UNIQUE (id);


--
-- TOC entry 2101 (class 2606 OID 117018)
-- Name: countries countries_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.countries
    ADD CONSTRAINT countries_id_key UNIQUE (id);


--
-- TOC entry 2105 (class 2606 OID 117039)
-- Name: fields fields_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fields
    ADD CONSTRAINT fields_id_key UNIQUE (id);


--
-- TOC entry 2117 (class 2606 OID 117132)
-- Name: holding_request_status_types holding_request_status_types_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_request_status_types
    ADD CONSTRAINT holding_request_status_types_id_key UNIQUE (id);


--
-- TOC entry 2119 (class 2606 OID 117145)
-- Name: holding_requests holding_requests_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests
    ADD CONSTRAINT holding_requests_id_key UNIQUE (id);


--
-- TOC entry 2123 (class 2606 OID 117201)
-- Name: messages messages_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_id_key UNIQUE (id);


--
-- TOC entry 2121 (class 2606 OID 117174)
-- Name: reviews reviews_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_id_key UNIQUE (id);


--
-- TOC entry 2098 (class 2606 OID 117009)
-- Name: schema_version schema_version_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schema_version
    ADD CONSTRAINT schema_version_pk PRIMARY KEY (installed_rank);


--
-- TOC entry 2107 (class 2606 OID 117051)
-- Name: users users_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_id_key UNIQUE (id);


--
-- TOC entry 2099 (class 1259 OID 117010)
-- Name: schema_version_s_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX schema_version_s_idx ON public.schema_version USING btree (success);


--
-- TOC entry 2129 (class 2606 OID 117101)
-- Name: books books_field_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books
    ADD CONSTRAINT books_field_id_fkey FOREIGN KEY (field_id) REFERENCES public.fields(id);


--
-- TOC entry 2127 (class 2606 OID 117091)
-- Name: books books_holding_type_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books
    ADD CONSTRAINT books_holding_type_id_fkey FOREIGN KEY (holding_type_id) REFERENCES public.book_holding_types(id);


--
-- TOC entry 2126 (class 2606 OID 117086)
-- Name: books books_owner_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books
    ADD CONSTRAINT books_owner_id_fkey FOREIGN KEY (owner_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 2128 (class 2606 OID 117096)
-- Name: books books_status_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books
    ADD CONSTRAINT books_status_id_fkey FOREIGN KEY (status_id) REFERENCES public.book_status_types(id);


--
-- TOC entry 2131 (class 2606 OID 117120)
-- Name: books_wish_list books_wish_list_book_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books_wish_list
    ADD CONSTRAINT books_wish_list_book_id_fkey FOREIGN KEY (book_id) REFERENCES public.books(id) ON DELETE CASCADE;


--
-- TOC entry 2130 (class 2606 OID 117115)
-- Name: books_wish_list books_wish_list_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.books_wish_list
    ADD CONSTRAINT books_wish_list_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- TOC entry 2124 (class 2606 OID 117027)
-- Name: cities cities_country_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cities
    ADD CONSTRAINT cities_country_id_fkey FOREIGN KEY (country_id) REFERENCES public.countries(id) ON DELETE CASCADE;


--
-- TOC entry 2134 (class 2606 OID 117156)
-- Name: holding_requests holding_requests_book_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests
    ADD CONSTRAINT holding_requests_book_id_fkey FOREIGN KEY (book_id) REFERENCES public.books(id);


--
-- TOC entry 2133 (class 2606 OID 117151)
-- Name: holding_requests holding_requests_receiver_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests
    ADD CONSTRAINT holding_requests_receiver_id_fkey FOREIGN KEY (receiver_id) REFERENCES public.users(id);


--
-- TOC entry 2132 (class 2606 OID 117146)
-- Name: holding_requests holding_requests_sender_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests
    ADD CONSTRAINT holding_requests_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- TOC entry 2135 (class 2606 OID 117161)
-- Name: holding_requests holding_requests_status_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.holding_requests
    ADD CONSTRAINT holding_requests_status_id_fkey FOREIGN KEY (status_id) REFERENCES public.holding_request_status_types(id);


--
-- TOC entry 2139 (class 2606 OID 117202)
-- Name: messages messages_holding_request_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_holding_request_id_fkey FOREIGN KEY (holding_request_id) REFERENCES public.holding_requests(id);


--
-- TOC entry 2141 (class 2606 OID 117212)
-- Name: messages messages_receiver_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_receiver_id_fkey FOREIGN KEY (receiver_id) REFERENCES public.users(id);


--
-- TOC entry 2140 (class 2606 OID 117207)
-- Name: messages messages_sender_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_sender_id_fkey FOREIGN KEY (sender_id) REFERENCES public.users(id);


--
-- TOC entry 2136 (class 2606 OID 117175)
-- Name: reviews reviews_holding_request_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_holding_request_id_fkey FOREIGN KEY (holding_request_id) REFERENCES public.holding_requests(id);


--
-- TOC entry 2138 (class 2606 OID 117185)
-- Name: reviews reviews_reviewee_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_reviewee_id_fkey FOREIGN KEY (reviewee_id) REFERENCES public.users(id);


--
-- TOC entry 2137 (class 2606 OID 117180)
-- Name: reviews reviews_reviewer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_reviewer_id_fkey FOREIGN KEY (reviewer_id) REFERENCES public.users(id);


--
-- TOC entry 2125 (class 2606 OID 117052)
-- Name: users users_city_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_city_id_fkey FOREIGN KEY (city_id) REFERENCES public.cities(id);


-- Completed on 2018-08-01 23:48:19

--
-- PostgreSQL database dump complete
--

